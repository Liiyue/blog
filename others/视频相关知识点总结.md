# 视频相关知识点总结

## <video> 标签





##  兼容性问题

### IOS

1. autoplay属性失效

2. 调用play()方法无效

3. [自动全屏](https://www.yfmingo.cn/2017/08/24/UIWebVIew-play-video/)

   **Description**: iOS客户端App里面的H5页面如果含有视频，点击播放时会自动调用iOS原生自带的播放器进行播放，并且自动全屏播放。

   **Solution**: 

   `<video x5-video-player-type='h5' x5-video-player-fullscreen='true' playsinline webkit-playsinline></video>`

4. 

### Android

1. [安卓touchmove执行一次问题](https://www.jianshu.com/p/6585b4329917)

   **Description**: 在Android下直接使用touchmove事件会在很多浏览器中出现每次操作只触发一次touchmove的情况。

   **Solution**: 在touchStart中禁止默认事件。

   ```
   window.addEventListener("touchstart", function(e){
      e.preventDefault(); 
   });
   ```

2. 

## 其它

### 1. 如何判断网络环境

**window.navigator.connection** 

### 2. transform 与 元素宽高等

[Get Element Dimensions After CSS Transform](https://davidwalsh.name/get-element-dimensions-css-transform)

[getBoundingClinetRect](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect)

[get nouseevent coordinat after css transform](https://stackoverflow.com/questions/6773481/how-to-get-the-mouseevent-coordinates-for-an-element-that-has-css3-transform)

### 3. 视频自动播放

+ [video下autoplay属性无效——添加muted属性](https://blog.csdn.net/taiyangmiaomiao/article/details/80266625)
+ [Chrome 66禁止声音自动播放之后](https://juejin.im/post/5af7129bf265da0b8262df4c)
+ 



### References

+ [video标签移动端兼容性问题总结](https://github.com/congtou221/blog/issues/18)
+ [在H5网页里判断是否在wifi环境](http://blog.he29.com/wblog/?p=1049)
+ [H5直播避坑指南](http://djt.qq.com/article/view/1563)





